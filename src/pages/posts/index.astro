---
import type { DiaryItem } from '@/libs/notion';
import { getCollection } from 'astro:content';
import Layout from '@/layouts/MainLayout.astro';
import PostList from '@/components/posts/PostList.astro';

const posts = await getCollection('diary', ({ data }) => {
    return data.type === 'single';
});

const list: Array<DiaryItem> = posts.map(it => it.data);
---
<Layout title='Posts' description='There are my posts.'>
    <div class="mx-auto max-w-3xl">
        <div class="mx-4">
            <p class="text-2xl font-bold">Latest PostsğŸ’«</p>
        </div>
        <div class="select-none mx-4 mt-4">
            <PostList list={list} />
        </div>
    </div>
</Layout>
